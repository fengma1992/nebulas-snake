webpackJsonp([1],{"+qiL":function(t,e){},"2NXm":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s=n("Dd8w"),a=n.n(s),r=n("NYxO"),o=n("cjn6"),c=n("6w0h"),u=(n("P6Se"),n("d7EF")),l=n.n(u),d=n("Xxa5"),h=n.n(d),f=n("exGp"),v=n.n(f),m=n("bOdI"),p=n.n(m),w=(n("SQpT"),[[0,0],[1,0],[2,0]]),g=[3,0],S=(i={},p()(i,o.a.NORMAL,"#33a050"),p()(i,o.a.MIDDLE,"#fabe00"),p()(i,o.a.HARD,"#d8210d"),i),b={name:"main-canvas",data:function(){var t;return{canvas:void 0,context:void 0,canvasWidth:20,canvasHeight:20,containerArr:[],snakeBody:w.slice(),snakeHead:g.slice(),headDirection:o.b.RIGHT,disabledDirection:o.b.LEFT,foodPosition:void 0,timer:void 0,winningWord:"CONGRATULATIONS, YOU DID IT!",HEAD_DIFF_POSITIONS:(t={},p()(t,o.b.UP,[0,-1]),p()(t,o.b.RIGHT,[1,0]),p()(t,o.b.DOWN,[0,1]),p()(t,o.b.LEFT,[-1,0]),t)}},computed:a()({},Object(r.b)({wall:function(t){return t.gameStatus.wall},started:function(t){return t.gameStatus.started},paused:function(t){return t.gameStatus.paused},score:function(t){return t.gameStatus.score},difficulty:function(t){return t.gameStatus.difficulty}}),{rowGridCount:function(){return this.canvasWidth/20|0},columnGridCount:function(){return this.canvasHeight/20|0},baseFontSize:function(){return this.canvasWidth/this.winningWord.length|0},controlBtnSize:function(){return{width:.05*this.canvasWidth*2,height:.05*this.canvasWidth*Math.sqrt(3)}},controlBtnArea:function(){return{top:(this.canvasHeight-this.controlBtnSize.height)/2,right:(this.canvasWidth+this.controlBtnSize.width)/2,bottom:(this.canvasHeight+this.controlBtnSize.width)/2,left:(this.canvasWidth-this.controlBtnSize.height)/2}}}),watch:{difficulty:function(){this.started?(this.clearTimer(),this.startTimer()):this.startGame()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.reset(),this.canvas=document.getElementById("main-canvas"),this.context=this.canvas.getContext("2d"),this.canvas.onclick=this.mouseClickListener,document.onkeydown=this.keyPress,this.context.strokeStyle="#EEE",this.resizeCanvas(),this.$nextTick(function(){t.initAvailableFoodArea(),t.clearCanvas(),t.drawStartBtn()})},mouseClickListener:function(t){var e=t.offsetX,n=t.offsetY;this.started?this.paused?this.resume():this.pause():(this.drawStartBtn(),this.context.isPointInPath(e,n)&&this.startGame())},initAvailableFoodArea:function(){var t=this;this.containerArr=[];for(var e=0;e<this.rowGridCount;e++)for(var n=0;n<this.columnGridCount;n++)this.containerArr.push([e,n].join());this.snakeBody.forEach(function(e){var n=t.containerArr.indexOf(e.join());!~n&&t.containerArr.splice(n,1)});var i=this.containerArr.indexOf(this.snakeHead.join());!~i&&this.containerArr.splice(i,1)},resizeCanvas:function(){var t=document.getElementsByClassName("main-canvas-view")[0],e=t.clientWidth,n=t.clientHeight;this.canvasWidth=20*(e/20|0),this.canvasHeight=20*(n/20|0)},clearCanvas:function(){this.context.fillStyle="#fff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)},addScore:function(){this.$store.commit("ADD_SCORE")},keyPress:function(t){var e=t.keyCode;if(this.started&&this.disabledDirection!==e)switch(e){case o.b.UP:this.headDirection=o.b.UP,this.disabledDirection=o.b.DOWN;break;case o.b.DOWN:this.headDirection=o.b.DOWN,this.disabledDirection=o.b.UP;break;case o.b.LEFT:this.headDirection=o.b.LEFT,this.disabledDirection=o.b.RIGHT;break;case o.b.RIGHT:this.headDirection=o.b.RIGHT,this.disabledDirection=o.b.LEFT;break;case o.b.SPACE:this.paused?this.resume():this.pause()}},drawPausedBtn:function(){this.context.fillStyle="#FF6666",this.context.font=this.baseFontSize+"px serif",this.context.textAlign="center",this.context.fillText(this.score,this.canvasWidth/2,this.canvas.height/2);this.context.font=this.baseFontSize+"px serif",this.context.fillText("Paused, click to resume",this.canvasWidth/2,this.canvas.height/2+this.baseFontSize)},drawStartBtn:function(){this.context.fillStyle="#FF6666",this.context.beginPath(),this.context.moveTo(this.controlBtnArea.left,this.controlBtnArea.top),this.context.lineTo(this.controlBtnArea.left,this.controlBtnArea.bottom),this.context.lineTo(this.controlBtnArea.right,(this.controlBtnArea.top+this.controlBtnArea.bottom)/2),this.context.closePath(),this.context.fill();this.context.font=this.baseFontSize+"px serif",this.context.textAlign="center",this.context.fillText("Start",this.canvasWidth/2,this.controlBtnArea.bottom+this.baseFontSize)},drawLastScene:function(){this.clearCanvas(),this.snakeDraw(),this.foodDraw()},fillRectDraw:function(t,e){this.context.fillRect(20*t,20*e,18,18)},createFood:function(){var t=Math.random()*(this.containerArr.length-1)|0,e=this.containerArr[t].split(",");this.foodPosition=[+e[0],+e[1]],this.foodDraw()},foodDraw:function(){this.context.fillStyle="#FFCCCC",this.fillRectDraw(this.foodPosition[0],this.foodPosition[1])},snakeDraw:function(){var t=this;this.context.fillStyle="#FF9966",this.snakeBody.forEach(function(e,n){t.fillRectDraw(e[0],e[1])}),this.context.fillStyle=S[this.difficulty],this.fillRectDraw(this.snakeHead[0],this.snakeHead[1])},finalDraw:function(t){this.context.font=this.baseFontSize+"px serif",this.context.textAlign="center",this.context.fillStyle="#fff",this.context.fillRect(0,this.canvas.height/2-2*this.baseFontSize,this.canvasWidth,3*this.baseFontSize),this.context.fillStyle="#FF6666",this.context.fillText(t,this.canvasWidth/2,this.canvas.height/2)},clearRect:function(t,e){this.context.fillStyle="#fff",this.context.fillRect(20*t,20*e,18,18)},checkIfStuck:function(t,e){return!(!this.wall||!(t<0||t>=this.rowGridCount||e<0||e>=this.columnGridCount))||~this.snakeBody.findIndex(function(n){return n[0]===t&&n[1]===e})},animate:function(){var t=this;requestAnimationFrame(function(){if(t.foodPosition.join()===t.snakeHead.join())t.addScore(),t.createFood();else{var e=t.snakeBody.shift();t.clearRect(e[0],e[1]),t.containerArr.push(e.join())}var n=t.containerArr.indexOf(t.snakeHead.join());!~n&&t.containerArr.splice(n,1),t.containerArr.length||(t.clearTimer(),t.finalDraw(t.winningWord)),t.snakeDraw()})},reset:function(){this.clearTimer(),this.$store.commit(c.f),this.snakeBody=w.slice(),this.snakeHead=g.slice(),this.headDirection=o.b.RIGHT,this.disabledDirection=o.b.LEFT},startGame:function(){var t=this;return v()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.reset(),t.$store.commit(c.j),t.clearCanvas(),t.snakeDraw(),t.createFood(),t.startTimer();case 6:case"end":return e.stop()}},e,t)}))()},gameOver:function(){this.$store.commit(c.k),this.clearTimer()},resume:function(){this.$store.commit(c.h),this.drawLastScene(),this.startTimer()},pause:function(){this.$store.commit(c.d),this.clearTimer(),this.drawLastScene(),this.drawPausedBtn()},calcHeadPositionIfNoWall:function(){var t=l()(this.snakeHead,2),e=t[0],n=t[1];e<0&&this.headDirection===o.b.LEFT&&(e=this.rowGridCount-1),e>=this.rowGridCount&&this.headDirection===o.b.RIGHT&&(e=0),n<0&&this.headDirection===o.b.UP&&(n=this.columnGridCount-1),n>=this.columnGridCount&&this.headDirection===o.b.DOWN&&(n=0),this.snakeHead=[e,n]},startTimer:function(){var t=this;this.timer=setInterval(function(){var e=l()(t.snakeHead,2),n=e[0],i=e[1],s=t.HEAD_DIFF_POSITIONS[t.headDirection];n+=s[0],i+=s[1],t.checkIfStuck(n,i)?t.gameOver():(t.snakeBody.push(t.snakeHead),t.snakeHead=[n,i],t.wall||t.calcHeadPositionIfNoWall(),t.animate())},this.difficulty)},clearTimer:function(){this.timer=clearInterval(this.timer)}}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-canvas-view"},[e("canvas",{class:[{"wall-border":this.wall}],attrs:{id:"main-canvas",width:this.canvasWidth+"px",height:this.canvasHeight+"px"}})])},staticRenderFns:[]},k=n("VU/8")(b,x,!1,null,null,null).exports,_=(n("l56k"),0),C=1,D=2,T={name:"score-board",data:function(){return{showTop100Score:!0,loading:!1}},computed:a()({},Object(r.b)({top100ScoreBoard:function(t){return t.nebulasData.scoreBoard},userScoreBoard:function(t){return t.nebulasData.userScoreBoard},showScoreBoard:function(t){return t.nebulasData.showScoreBoard}}),{scoreBoardToShow:function(){return(this.showTop100Score?this.top100ScoreBoard:this.userScoreBoard)||[]}}),watch:{showScoreBoard:function(t){t&&this.getScoreBoard(D)}},mounted:function(){var t=this;return v()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getScoreBoard();case 2:case"end":return e.stop()}},e,t)}))()},methods:{hide:function(){this.$store.commit(c.l,!1)},getScoreBoard:function(t){var e=this;return v()(h.a.mark(function n(){return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.loading){n.next=2;break}return n.abrupt("return");case 2:if(e.loading=!0,n.t0=t!==C,!n.t0){n.next=7;break}return n.next=7,e.$store.dispatch("getScoreBoard");case 7:if(n.t1=t!==_,!n.t1){n.next=11;break}return n.next=11,e.$store.dispatch("getUserScoreBoard");case 11:e.loading=!1;case 12:case"end":return n.stop()}},n,e)}))()},showTop100:function(){var t=this;return v()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.showTop100Score=!0,e.next=3,t.getScoreBoard(_);case 3:case"end":return e.stop()}},e,t)}))()},showUserHistory:function(){var t=this;return v()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.showTop100Score=!1,e.next=3,t.getScoreBoard(C);case 3:case"end":return e.stop()}},e,t)}))()}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showScoreBoard,expression:"showScoreBoard"}],staticClass:"score-board-view"},[n("div",{staticClass:"score-board-main"},[n("div",{staticClass:"score-board-title"},[n("button",{class:["score-board-btn",{selected:t.showTop100Score}],on:{click:t.showTop100}},[t._v("TOP 100")]),t._v(" "),n("button",{class:["score-board-btn",{selected:!t.showTop100Score}],on:{click:t.showUserHistory}},[t._v("MY HISTORY\n      ")])]),t._v(" "),n("div",{staticClass:"score-board-list"},[t.loading?n("div",{staticClass:"loading-view"},[t._v("\n        Loading...\n      ")]):[t.scoreBoardToShow.length?n("div",{staticClass:"score-board-header"},[n("p",{staticClass:"header-item item1"},[t._v("nickname")]),t._v(" "),n("p",{staticClass:"header-item item2"},[t._v("score")]),t._v(" "),n("p",{staticClass:"header-item item3"},[t._v("date")])]):t._e(),t._v(" "),t._l(t.scoreBoardToShow,function(e){return n("div",{key:e.time,staticClass:"score-board-item"},[n("p",{staticClass:"nickname item1"},[t._v(t._s(e.nickname)+": ")]),t._v(" "),n("p",{staticClass:"score item2"},[t._v(t._s(e.score))]),t._v(" "),n("p",{staticClass:"time item3"},[t._v(t._s(new Date(e.time).format("yyyy-MM-dd hh:mm:ss")))])])})],t._v(" "),t.scoreBoardToShow.length||t.loading?t._e():n("button",{staticClass:"loading-view",on:{click:t.hide}},[t._v("\n        Nothing yet, click to make a history!\n      ")])],2)]),t._v(" "),n("div",{staticClass:"mask",on:{click:t.hide}})])},staticRenderFns:[]},A=n("VU/8")(T,y,!1,null,null,null).exports,E=(n("X39+"),{name:"nebulas-modal",data:function(){return{nickname:"",saving:!1,saved:!1}},computed:a()({},Object(r.b)({score:function(t){return t.gameStatus.score}}),{btnText:function(){return this.saved?"Saved!":this.saving?"Saving...":"Save to Nebulas Forever!"}}),methods:{reset:function(){this.saving=!1,this.saved=!1},hide:function(){this.$store.commit(c.c),this.reset()},saveScore:function(){var t=this;return v()(h.a.mark(function e(){var n,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.saving&&!t.saved){e.next=2;break}return e.abrupt("return");case 2:return t.saving=!0,n=t.nickname||"anonymous",i=t.score+"",e.next=7,t.$store.dispatch("saveScore",[n,i]);case 7:t.saving=!1,t.saved=!0;case 9:case"end":return e.stop()}},e,t)}))()},getScoreBoard:function(){this.hide(),this.$store.commit(c.l,!0)}}}),O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nebulas-game-over-modal"},[n("div",{staticClass:"main"},[n("p",{staticClass:"title"},[t._v("Game Over!")]),t._v(" "),n("p",{staticClass:"score-text"},[t._v("Your Score: "+t._s(t.score))]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"input-area"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"text-input",attrs:{placeholder:"Please input your nickname!"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),t._v(" "),n("button",{class:["save-btn",{"disabled-btn":t.saving}],on:{click:t.saveScore}},[t._v(t._s(t.btnText))]),t._v(" "),n("p",{staticClass:"score-board-link",on:{click:t.getScoreBoard}},[t._v("Show Score Board")])])]),t._v(" "),n("div",{staticClass:"mask",on:{click:t.hide}})])},staticRenderFns:[]},I=n("VU/8")(E,O,!1,null,null,null).exports,B=(n("slZT"),{name:"switch-input",props:{value:{type:[String,Number,Boolean],default:!1}},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){return["switch-input",this.currentValue?"switch-input-checked":"switch-input-unchecked"]}},methods:{toggle:function(){var t=!this.currentValue;this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t)}},watch:{value:function(t){this.currentValue=!!t}}}),F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.wrapClasses,on:{click:t.toggle,keydown:function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key," ")?t.toggle(e):null}}},[n("input",{attrs:{type:"hidden"},domProps:{value:t.currentValue}})])},staticRenderFns:[]},R={name:"nebulas-snake",components:{MainCanvas:k,ScoreBoard:A,GameOver:I,SwitchInput:n("VU/8")(B,F,!1,null,null,null).exports},data:function(){return{DIFFICULTY:o.a}},computed:a()({},Object(r.b)({score:function(t){return t.gameStatus.score},difficulty:function(t){return t.gameStatus.difficulty},extensionInstalled:function(t){return t.nebulasData.extensionInstalled},gameOver:function(t){return t.gameStatus.gameOver}}),{wall:{get:function(){return this.$store.state.gameStatus.wall},set:function(){this.$store.commit(c.n)}}}),beforeMount:function(){this.checkIfExtensionInstalled()},mounted:function(){this.extensionInstalled&&this.getUserInfo()},methods:{checkIfExtensionInstalled:function(){window.webExtensionWallet?this.$store.commit(c.o,!0):this.$store.commit(c.o,!1)},setDifficulty:function(t){this.$store.commit(c.b,t)},getUserInfo:function(){this.$store.dispatch("getUserInfo")}}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"default-view"},[n("div",{staticClass:"default-view-header"},[n("p",[t._v("Nebulas Snake")]),t._v(" "),n("div",{staticClass:"difficulty-select-area"},[n("p",{class:["difficulty-btn","normal",{unselected:t.DIFFICULTY.NORMAL!==t.difficulty}],on:{click:function(e){t.setDifficulty(t.DIFFICULTY.NORMAL)}}},[t._v("Normal")]),t._v(" "),n("p",{class:["difficulty-btn","middle",{unselected:t.DIFFICULTY.MIDDLE!==t.difficulty}],on:{click:function(e){t.setDifficulty(t.DIFFICULTY.MIDDLE)}}},[t._v("Middle")]),t._v(" "),n("p",{class:["difficulty-btn","hard",{unselected:t.DIFFICULTY.HARD!==t.difficulty}],on:{click:function(e){t.setDifficulty(t.DIFFICULTY.HARD)}}},[t._v("Hard")])]),t._v(" "),n("div",{staticClass:"toggle-wall"},[t._v("Wall: "),n("switch-input",{staticClass:"switch-input",model:{value:t.wall,callback:function(e){t.wall=e},expression:"wall"}})],1),t._v(" "),n("p",[t._v("Score: "+t._s(t.score))])]),t._v(" "),n("div",{staticClass:"default-view-main"},[t.extensionInstalled?n("main-canvas",{ref:"mainCanvas"}):n("div",{staticClass:"extension-install-area"},[n("h3",{staticClass:"extension-hint"},[t._v("Please install the\n        "),n("a",{attrs:{target:"_blank",href:"https://github.com/ChengOrangeJu/WebExtensionWallet"}},[t._v("WebExtensionWallet")]),t._v(" before play!")])])],1),t._v(" "),t.extensionInstalled?n("score-board"):t._e(),t._v(" "),t.extensionInstalled&&t.gameOver?n("game-over"):t._e()],1)},staticRenderFns:[]},P=n("VU/8")(R,H,!1,null,null,null);e.default=P.exports},"2mV7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("gNcp"),s={};i.keys().forEach(function(t){"./index.js"!==t&&(s[t.replace(/(\.\/|\.js)/g,"")]=i(t).default)}),e.default=s},"6w0h":function(t,e,n){"use strict";n.d(e,"j",function(){return i}),n.d(e,"k",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return r}),n.d(e,"m",function(){return o}),n.d(e,"g",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"f",function(){return d}),n.d(e,"c",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"p",function(){return v}),n.d(e,"q",function(){return m}),n.d(e,"o",function(){return p}),n.d(e,"l",function(){return w}),n.d(e,"i",function(){return g}),n.d(e,"n",function(){return S});var i="START",s="STOP",a="CHANGE_DIFFICULTY",r="ADD_SCORE",o="TOGGLE_START",c="RESTART_GAME",u="PAUSE",l="RESUME",d="RESET",h="HIDE_GAME_OVER_MODAL",f="PAY_SUCCESS",v="UPDATE_SCORE_BOARD",m="UPDATE_USER_SCORE_BOARD",p="UPDATE_EXTENSION_STATUS",w="TOGGLE_SCORE_BOARD_SHOW",g="SET_USER_ACCOUNT",S="TOGGLE_WALL"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("mtWM"),a=n.n(s),r=(n("+qiL"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}),o=n("VU/8")({name:"app"},r,!1,null,null,null).exports,c=n("/ocq");i.a.use(c.a);var u=new c.a({routes:[{path:"/",name:"default",component:n("2NXm").default}]}),l=n("NYxO"),d=n("2mV7");i.a.use(l.a);var h=new l.a.Store({modules:d.default,strict:!1});i.a.http=i.a.prototype.$http=a.a,i.a.config.productionTip=!1,Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e){var i=e[n];new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?i:("00"+i).substr((""+i).length)))}return t},new i.a({el:"#app",router:u,store:h,components:{App:o},template:"<App/>"})},O9x0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s=n("bOdI"),a=n.n(s),r=n("6w0h"),o={wall:!0,started:!1,paused:!1,gameOver:!1,score:0,difficulty:n("cjn6").a.NORMAL},c=(i={},a()(i,r.a,function(t){t.score++}),a()(i,r.b,function(t,e){t.difficulty=e}),a()(i,r.c,function(t){t.gameOver=!1}),a()(i,r.k,function(t){t.started=!1,t.paused=!1,t.gameOver=!0}),a()(i,r.d,function(t){t.paused=!0}),a()(i,r.h,function(t){t.paused=!1}),a()(i,r.m,function(t){t.started=!t.started,t.paused=!1}),a()(i,r.g,function(t){t.started=!0,t.paused=!1,t.score=0}),a()(i,r.f,function(t){t.started=!1,t.paused=!1,t.score=0}),a()(i,r.j,function(t){t.started=!0,t.paused=!1,t.gameOver=!1}),a()(i,r.n,function(t){t.wall=!t.wall}),i);e.default={state:o,mutations:c,actions:{}}},P6Se:function(t,e){},Qe7L:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),s=n.n(i),a=n("exGp"),r=n.n(a),o=n("bOdI"),c=n.n(o),u=n("6w0h"),l=n("mvHQ"),d=n.n(l),h=n("//Fk"),f=n.n(h),v=n("qIjX"),m=n.n(v),p=m.a.config.testnetUrl,w=new m.a,g="n1tfKeNFjJMWTzHW78UugpURCDzrTyPUPwZ",S="n1FQy3GYN6EbF5ajqScUjLH6zXBN5HW2Nx4";var b,x={nebulasPay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new f.a(function(n,i){var s=w.pay(S,t,{qrcode:{showQRCode:!1},goods:{name:e.name||"Nebulas Snake",desc:e.desc||"NAS for start game"},callback:p,listener:function(t){try{n(JSON.parse(t.result),s)}catch(e){i(t.result)}}})})},freeCall:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new f.a(function(n,i){var s=g,a=d()(e);w.simulateCall(s,"0",t,a,{listener:function(t){n(t.result)}})})},payCall:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new f.a(function(n,i){var s=g,a=d()(e);w.call(s,"0",t,a,{listener:function(t){n(t)}})})},queryPayInfo:function(t){return w.queryPayInfo(t,{callback:p})},getUserAddress:function(){return new f.a(function(t,e){window.addEventListener("message",function e(n){try{var i=n.data.data.account;i&&(window.removeEventListener("message",e),t(i))}catch(n){}}),window.postMessage({target:"contentscript",method:"getAccount"},"*")})}},k=n("M4fF"),_=(b={},c()(b,u.e,function(t){t.payed=!0}),c()(b,u.p,function(t,e){t.scoreBoard=Object(k.cloneDeep)(e)}),c()(b,u.q,function(t,e){t.userScoreBoard=Object(k.cloneDeep)(e)}),c()(b,u.o,function(t,e){t.extensionInstalled=e}),c()(b,u.l,function(t,e){t.showScoreBoard=void 0!==e?e:!t.showScoreBoard}),c()(b,u.i,function(t,e){t.playerAccount=e}),b),C={saveScore:function(t,e){var n=this,i=(t.commit,t.dispatch);return r()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.payCall("saveScore",e);case 2:a=t.sent,console.log(a),i("getUserInfo");case 5:case"end":return t.stop()}},t,n)}))()},getScoreBoard:function(t){var e=this,n=t.commit;return r()(s.a.mark(function t(){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.freeCall("getScoreBoard");case 2:return i=t.sent,n(u.p,JSON.parse(i||"[]")),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,e)}))()},getUserScoreBoard:function(t){var e=this,n=t.commit,i=t.state;return r()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.playerAccount||n(u.q,[]),t.next=3,x.freeCall("getUserScoreBoard",[i.playerAccount]);case 3:a=t.sent,n(u.q,JSON.parse(a||"[]"));case 5:case"end":return t.stop()}},t,e)}))()},getUserInfo:function(t){var e=this,n=t.commit;return r()(s.a.mark(function t(){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getUserAddress();case 2:i=t.sent,n(u.i,i);case 4:case"end":return t.stop()}},t,e)}))()}};e.default={state:{payed:!1,scoreBoard:[],userScoreBoard:[],playerAccount:"",showScoreBoard:!0,extensionInstalled:!1},mutations:_,actions:C}},SQpT:function(t,e){},"X39+":function(t,e){},cjn6:function(t,e,n){"use strict";var i={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:31,ENTER:13},s={NORMAL:500,MIDDLE:300,HARD:100};n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s})},gNcp:function(t,e,n){var i={"./gameStatus.js":"O9x0","./index.js":"2mV7","./nebulasData.js":"Qe7L"};function s(t){return n(a(t))}function a(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="gNcp"},l56k:function(t,e){},slZT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.44cb1d791064ef894ad1.js.map