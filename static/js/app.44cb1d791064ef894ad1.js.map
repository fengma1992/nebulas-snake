{"version":3,"sources":["webpack:///src/components/MainCanvas/index.vue","webpack:///./src/components/MainCanvas/index.vue?4bed","webpack:///./src/components/MainCanvas/index.vue","webpack:///src/components/ScoreBoard/index.vue","webpack:///./src/components/ScoreBoard/index.vue?94f8","webpack:///./src/components/ScoreBoard/index.vue","webpack:///src/components/GameOverModal/index.vue","webpack:///./src/components/GameOverModal/index.vue?2d1d","webpack:///./src/components/GameOverModal/index.vue","webpack:///src/components/SwitchInput/index.vue","webpack:///./src/components/SwitchInput/index.vue?d6ee","webpack:///src/pages/index.vue","webpack:///./src/components/SwitchInput/index.vue","webpack:///./src/pages/index.vue?3f4d","webpack:///./src/pages/index.vue","webpack:///./src/store/modules/index.js","webpack:///./src/store/mutationTypes.js","webpack:///./src/App.vue?de90","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/store/modules/gameStatus.js","webpack:///./src/utils/nebulasUtils.js","webpack:///./src/store/modules/nebulasData.js","webpack:///./src/enums/keyCodes.js","webpack:///./src/enums/difficulty.js","webpack:///./src/enums/index.js","webpack:///./src/store/modules nonrecursive \\.js$"],"names":["originalSnakeBody","originalSnakeHead","snakeHeadColorList","_snakeHeadColorList","defineProperty_default","enums","NORMAL","MIDDLE","HARD","components_MainCanvas","name","data","_HEAD_DIFF_POSITIONS","canvas","undefined","context","canvasWidth","canvasHeight","containerArr","snakeBody","slice","snakeHead","headDirection","RIGHT","disabledDirection","LEFT","foodPosition","timer","winningWord","HEAD_DIFF_POSITIONS","UP","DOWN","computed","extends_default","Object","vuex_esm","wall","state","gameStatus","started","paused","score","difficulty","rowGridCount","this","columnGridCount","baseFontSize","length","controlBtnSize","width","height","Math","sqrt","controlBtnArea","top","right","bottom","left","watch","clearTimer","startTimer","startGame","mounted","init","methods","_this","reset","document","getElementById","getContext","onclick","mouseClickListener","onkeydown","keyPress","strokeStyle","resizeCanvas","$nextTick","initAvailableFoodArea","clearCanvas","drawStartBtn","_ref","offsetX","offsetY","resume","pause","isPointInPath","_this2","i","j","push","join","forEach","item","index","indexOf","splice","container","getElementsByClassName","containerWidth","clientWidth","containerHeight","clientHeight","fillStyle","fillRect","addScore","$store","commit","_ref2","keyCode","SPACE","drawPausedBtn","font","textAlign","fillText","beginPath","moveTo","lineTo","closePath","fill","drawLastScene","snakeDraw","foodDraw","fillRectDraw","x","y","blockSize","createFood","random","temp","split","_this3","position","finalDraw","text","clearRect","checkIfStuck","nextX","nextY","findIndex","animate","_this4","requestAnimationFrame","tail","shift","mutationTypes","_this5","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","stop","gameOver","calcHeadPositionIfNoWall","_snakeHead","slicedToArray_default","X","Y","_this6","setInterval","_snakeHead2","currentDiffPositions","clearInterval","selectortype_template_index_0_src_components_MainCanvas","render","_h","$createElement","_c","_self","staticClass","class","wall-border","attrs","id","staticRenderFns","src_components_MainCanvas","__webpack_require__","normalizeComponent","GET_SCORE_BOARD_TYPES","components_ScoreBoard","showTop100Score","loading","top100ScoreBoard","nebulasData","scoreBoard","userScoreBoard","showScoreBoard","scoreBoardToShow","v","getScoreBoard","hide","type","_callee2","_context2","abrupt","t0","dispatch","t1","showTop100","_callee3","_context3","showUserHistory","_callee4","_context4","selectortype_template_index_0_src_components_ScoreBoard","_vm","directives","rawName","value","expression","selected","on","click","_v","_e","_l","key","time","_s","nickname","Date","format","src_components_ScoreBoard","ScoreBoard_normalizeComponent","components_GameOverModal","saving","saved","btnText","saveScore","selectortype_template_index_0_src_components_GameOverModal","placeholder","domProps","input","$event","target","composing","disabled-btn","src_components_GameOverModal","GameOverModal_normalizeComponent","components_SwitchInput","props","String","Number","Boolean","default","currentValue","wrapClasses","toggle","checked","$emit","val","selectortype_template_index_0_src_components_SwitchInput","keydown","_k","selectortype_script_index_0_src_pages","components","MainCanvas","ScoreBoard","GameOver","SwitchInput","SwitchInput_normalizeComponent","DIFFICULTY","extensionInstalled","get","set","beforeMount","checkIfExtensionInstalled","getUserInfo","window","webExtensionWallet","setDifficulty","selectortype_template_index_0_src_pages","unselected","model","callback","$$v","ref","href","pages_Component","pages_normalizeComponent","__webpack_exports__","defineProperty","files","modules","keys","replace","d","TOGGLE_WALL","START","STOP","CHANGE_DIFFICULTY","ADD_SCORE","TOGGLE_START","RESTART_GAME","PAUSE","RESUME","RESET","HIDE_GAME_OVER_MODAL","PAY_SUCCESS","UPDATE_SCORE_BOARD","UPDATE_USER_SCORE_BOARD","UPDATE_EXTENSION_STATUS","TOGGLE_SCORE_BOARD_SHOW","SET_USER_ACCOUNT","selectortype_template_index_0_src_App","src_App","vue_esm","use","vue_router_esm","router","routes","path","component","store","Store","strict","http","prototype","$http","axios_default","config","productionTip","args","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","floor","S","getMilliseconds","test","RegExp","$1","getFullYear","substr","n","el","App","template","mutations","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","__WEBPACK_IMPORTED_MODULE_1__mutationTypes__","_mutations","actions","callbackUrl","nebpay_default","testnetUrl","nebPay","dappAddress","myAccount","nebulasUtils","nebulasPay","arguments","options","promise_default","resolve","reject","payId","pay","qrcode","showQRCode","goods","desc","listener","res","JSON","parse","result","e","freeCall","callFunction","params","to","callArgs","stringify_default","simulateCall","payCall","call","queryPayInfo","getUserAddress","addEventListener","getAddress","account","removeEventListener","postMessage","method","payed","lodash","flag","playerAccount","sent","console","log","getUserScoreBoard","_ref3","_ref4","keyCodes","ENTER","map","./gameStatus.js","./index.js","./nebulasData.js","webpackContext","req","webpackContextResolve","Error","module","exports"],"mappings":"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","file":"static/js/app.44cb1d791064ef894ad1.js","sourcesContent":["/*** Created by dujianhao on 2018/4/13.*/\n\n<template>\n  <div class=\"main-canvas-view\">\n    <canvas id=\"main-canvas\" :width=\"canvasWidth+ 'px'\" :height=\"canvasHeight+ 'px'\" :class=\"[{'wall-border': wall}]\"></canvas>\n  </div>\n</template>\n\n<script>\nimport './index.scss'\nimport { mapState } from 'vuex'\nimport { KEY_CODES, DIFFICULTY } from '../../enums'\nimport { START, STOP, PAUSE, RESUME, RESET } from '../../store/mutationTypes'\n\nconst originalSnakeBody = [[0, 0], [1, 0], [2, 0]]\nconst originalSnakeHead = [3, 0]\nconst blockSize = 20\nconst startBtnScale = 0.05\nconst baseFontColor = '#FF6666'\nconst snakeBodyColor = '#FF9966'\nconst foodColor = '#FFCCCC'\nconst backgroundLineColor = '#EEE'\nconst snakeHeadColorList = {\n  [DIFFICULTY.NORMAL]: '#33a050',\n  [DIFFICULTY.MIDDLE]: '#fabe00',\n  [DIFFICULTY.HARD]: '#d8210d'\n}\n\nexport default {\n  name: 'main-canvas',\n  data () {\n    return {\n      canvas: undefined,\n      context: undefined,\n      canvasWidth: 20,\n      canvasHeight: 20,\n      containerArr: [], // 表示容器内空白位置\n      snakeBody: originalSnakeBody.slice(),\n      snakeHead: originalSnakeHead.slice(),\n      headDirection: KEY_CODES.RIGHT,\n      disabledDirection: KEY_CODES.LEFT,\n      foodPosition: undefined,\n      timer: undefined,\n      winningWord: 'CONGRATULATIONS, YOU DID IT!',\n      HEAD_DIFF_POSITIONS: {\n        [KEY_CODES.UP]: [0, -1],\n        [KEY_CODES.RIGHT]: [1, 0],\n        [KEY_CODES.DOWN]: [0, 1],\n        [KEY_CODES.LEFT]: [-1, 0],\n      }\n    }\n  },\n  computed: {\n    ...mapState({\n      wall: state => state.gameStatus.wall,\n      started: state => state.gameStatus.started,\n      paused: state => state.gameStatus.paused,\n      score: state => state.gameStatus.score,\n      difficulty: state => state.gameStatus.difficulty,\n    }),\n    rowGridCount () {\n      return (this.canvasWidth / blockSize) | 0\n    },\n    columnGridCount () {\n      return (this.canvasHeight / blockSize) | 0\n    },\n    baseFontSize () {\n      return (this.canvasWidth / this.winningWord.length) | 0\n    },\n    /**\n     * startBtn is a congruent triangle\n     * @returns {{width: number, height: number}}\n     */\n    controlBtnSize () {\n      return {\n        width: this.canvasWidth * startBtnScale * 2,\n        height: this.canvasWidth * startBtnScale * Math.sqrt(3)\n      }\n    },\n    controlBtnArea () {\n      return {\n        top: (this.canvasHeight - this.controlBtnSize.height) / 2,\n        right: (this.canvasWidth + this.controlBtnSize.width) / 2,\n        bottom: (this.canvasHeight + this.controlBtnSize.width) / 2,\n        left: (this.canvasWidth - this.controlBtnSize.height) / 2,\n      }\n    },\n  },\n  watch: {\n    difficulty () {\n      if (!this.started) {\n        this.startGame()\n      } else {\n        this.clearTimer()\n        this.startTimer()\n      }\n    },\n  },\n  mounted () {\n    this.init()\n  },\n  methods: {\n    init () {\n      this.reset()\n      this.canvas = document.getElementById('main-canvas')\n      this.context = this.canvas.getContext('2d')\n      this.canvas.onclick = this.mouseClickListener\n      document.onkeydown = this.keyPress\n      this.context.strokeStyle = backgroundLineColor\n      this.resizeCanvas()\n      this.$nextTick(() => {\n        this.initAvailableFoodArea()\n        this.clearCanvas()\n        this.drawStartBtn()\n      })\n    },\n    mouseClickListener ({ offsetX, offsetY }) {\n      if (this.started) {\n        this.paused ? this.resume() : this.pause()\n      } else {\n        this.drawStartBtn() // drawStartBtn to create path\n        if (this.context.isPointInPath(offsetX, offsetY)) {\n          this.startGame()\n        }\n      }\n    },\n    initAvailableFoodArea () {\n      this.containerArr = []\n      for (let i = 0; i < this.rowGridCount; i++) {\n        for (let j = 0; j < this.columnGridCount; j++) {\n          this.containerArr.push([i, j].join()) // collect available food position\n        }\n      }\n      // remove the unavailable positions\n      this.snakeBody.forEach(item => {\n        const index = this.containerArr.indexOf(item.join())\n        !~index && this.containerArr.splice(index, 1)\n      })\n      const index = this.containerArr.indexOf(this.snakeHead.join())\n      !~index && this.containerArr.splice(index, 1)\n    },\n    resizeCanvas () {\n      const container = document.getElementsByClassName('main-canvas-view')[0]\n      const containerWidth = container.clientWidth\n      const containerHeight = container.clientHeight\n      this.canvasWidth = ((containerWidth / blockSize) | 0) * blockSize\n      this.canvasHeight = ((containerHeight / blockSize) | 0) * blockSize\n    },\n    clearCanvas () {\n      this.context.fillStyle = '#fff'\n      this.context.fillRect(0, 0, this.canvas.width, this.canvas.height)\n    },\n    addScore () {\n      this.$store.commit('ADD_SCORE')\n    },\n    keyPress ({ keyCode }) {\n      if (!this.started || this.disabledDirection === keyCode) {\n        return\n      }\n      switch (keyCode) {\n        case KEY_CODES.UP:\n          this.headDirection = KEY_CODES.UP\n          this.disabledDirection = KEY_CODES.DOWN\n          break\n        case KEY_CODES.DOWN:\n          this.headDirection = KEY_CODES.DOWN\n          this.disabledDirection = KEY_CODES.UP\n          break\n        case KEY_CODES.LEFT:\n          this.headDirection = KEY_CODES.LEFT\n          this.disabledDirection = KEY_CODES.RIGHT\n          break\n        case KEY_CODES.RIGHT:\n          this.headDirection = KEY_CODES.RIGHT\n          this.disabledDirection = KEY_CODES.LEFT\n          break\n        case KEY_CODES.SPACE:\n          this.paused ? this.resume() : this.pause()\n          break\n      }\n    },\n    drawPausedBtn () {\n      this.context.fillStyle = baseFontColor\n      this.context.font = `${this.baseFontSize}px serif`\n      this.context.textAlign = 'center'\n      this.context.fillText(this.score, this.canvasWidth / 2, this.canvas.height / 2)\n      const text = 'Paused, click to resume'\n      this.context.font = `${this.baseFontSize}px serif`\n      this.context.fillText(text, this.canvasWidth / 2, this.canvas.height / 2 + this.baseFontSize)\n    },\n    drawStartBtn () {\n      this.context.fillStyle = baseFontColor\n      this.context.beginPath()\n      // move pencil to top left corner\n      this.context.moveTo(this.controlBtnArea.left, this.controlBtnArea.top)\n      this.context.lineTo(this.controlBtnArea.left, this.controlBtnArea.bottom)\n      this.context.lineTo(this.controlBtnArea.right, (this.controlBtnArea.top + this.controlBtnArea.bottom) / 2)\n      this.context.closePath()\n      this.context.fill()\n      const text = 'Start'\n      this.context.font = `${this.baseFontSize}px serif`\n      this.context.textAlign = 'center'\n      this.context.fillText(text, this.canvasWidth / 2, this.controlBtnArea.bottom + this.baseFontSize)\n    },\n    drawLastScene () {\n      this.clearCanvas()\n      this.snakeDraw()\n      this.foodDraw()\n    },\n    fillRectDraw (x, y) {\n      this.context.fillRect(x * blockSize, y * blockSize, blockSize - 2, blockSize - 2)\n    },\n    createFood () {\n      const index = Math.random() * (this.containerArr.length - 1) | 0\n      const temp = this.containerArr[index].split(',')\n      this.foodPosition = [+temp[0], +temp[1]] // string 2 num\n      this.foodDraw()\n    },\n    foodDraw () {\n      this.context.fillStyle = foodColor\n      this.fillRectDraw(this.foodPosition[0], this.foodPosition[1])\n    },\n    snakeDraw () {\n      this.context.fillStyle = snakeBodyColor\n      this.snakeBody.forEach((position, index) => {\n        this.fillRectDraw(position[0], position[1])\n      })\n      \n      this.context.fillStyle = snakeHeadColorList[this.difficulty]\n      this.fillRectDraw(this.snakeHead[0], this.snakeHead[1])\n    },\n    finalDraw (text) {\n      this.context.font = `${this.baseFontSize}px serif`\n      this.context.textAlign = 'center'\n      this.context.fillStyle = '#fff'\n      this.context.fillRect(0, this.canvas.height / 2 - this.baseFontSize * 2, this.canvasWidth, this.baseFontSize * 3)\n      this.context.fillStyle = baseFontColor\n      this.context.fillText(text, this.canvasWidth / 2, this.canvas.height / 2)\n    },\n    clearRect (x, y) {\n      this.context.fillStyle = '#fff'\n      this.context.fillRect(x * blockSize, y * blockSize, blockSize - 2, blockSize - 2)\n    },\n    checkIfStuck (nextX, nextY) {\n      if (this.wall && (nextX < 0 || nextX >= this.rowGridCount || nextY < 0 || nextY >= this.columnGridCount)) {\n        return true\n      }\n      // slim the calculation\n      const intersectionIndex = this.snakeBody.findIndex(position => {\n        return position[0] === nextX && position[1] === nextY\n      })\n      \n      return ~intersectionIndex\n    },\n    animate () {\n      requestAnimationFrame(() => {\n        const gotFood = this.foodPosition.join() === this.snakeHead.join()\n        if (gotFood) {\n          this.addScore()\n          this.createFood()\n        } else {\n          const tail = this.snakeBody.shift()\n          this.clearRect(tail[0], tail[1])\n          this.containerArr.push(tail.join()) // set the last tail position available\n        }\n        const index = this.containerArr.indexOf(this.snakeHead.join())\n        !~index && this.containerArr.splice(index, 1) // remove the new head position as its unavailable now\n        if (!this.containerArr.length) {\n          this.clearTimer()\n          this.finalDraw(this.winningWord)\n        }\n        this.snakeDraw()\n      })\n    },\n    reset () {\n      this.clearTimer()\n      this.$store.commit(RESET)\n      this.snakeBody = originalSnakeBody.slice()\n      this.snakeHead = originalSnakeHead.slice()\n      this.headDirection = KEY_CODES.RIGHT\n      this.disabledDirection = KEY_CODES.LEFT\n    },\n    async startGame () {\n      // const res = await this.$store.dispatch('nebulasPay')\n      this.reset()\n      this.$store.commit(START)\n      this.clearCanvas()\n      this.snakeDraw()\n      this.createFood()\n      this.startTimer()\n    },\n    gameOver () {\n      this.$store.commit(STOP)\n      this.clearTimer()\n    },\n    resume () {\n      this.$store.commit(RESUME)\n      this.drawLastScene()\n      this.startTimer()\n    },\n    pause () {\n      this.$store.commit(PAUSE)\n      this.clearTimer()\n      this.drawLastScene()\n      this.drawPausedBtn()\n    },\n    calcHeadPositionIfNoWall () {\n      let [X, Y] = this.snakeHead\n      if (X < 0 && this.headDirection === KEY_CODES.LEFT) {\n        X = this.rowGridCount - 1\n      }\n      if (X >= this.rowGridCount && this.headDirection === KEY_CODES.RIGHT) {\n        X = 0\n      }\n      if (Y < 0 && this.headDirection === KEY_CODES.UP) {\n        Y = this.columnGridCount - 1\n      }\n      if (Y >= this.columnGridCount && this.headDirection === KEY_CODES.DOWN) {\n        Y = 0\n      }\n      this.snakeHead = [X, Y]\n    },\n    startTimer () {\n      this.timer = setInterval(() => {\n        let [nextX, nextY] = this.snakeHead\n        const currentDiffPositions = this.HEAD_DIFF_POSITIONS[this.headDirection]\n        nextX += currentDiffPositions[0]\n        nextY += currentDiffPositions[1]\n        if (this.checkIfStuck(nextX, nextY)) {\n          // console.log({ nextX, nextY })\n          this.gameOver()\n          return\n        }\n        this.snakeBody.push(this.snakeHead)\n        this.snakeHead = [nextX, nextY]\n        if (!this.wall) {\n          this.calcHeadPositionIfNoWall()\n        }\n        this.animate()\n      }, this.difficulty)\n    },\n    clearTimer () {\n      this.timer = clearInterval(this.timer)\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MainCanvas/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-canvas-view\"},[_c('canvas',{class:[{'wall-border': _vm.wall}],attrs:{\"id\":\"main-canvas\",\"width\":_vm.canvasWidth+ 'px',\"height\":_vm.canvasHeight+ 'px'}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-203c84bf\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MainCanvas/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-203c84bf\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MainCanvas/index.vue\n// module id = null\n// module chunks = ","/**\n* Created by dujianhao on 2018/5/25.\n*/\n\n<template>\n  <div v-show=\"showScoreBoard\" class=\"score-board-view\">\n    <div class=\"score-board-main\">\n      <div class=\"score-board-title\">\n        <button @click=\"showTop100\" :class=\"['score-board-btn', {'selected': showTop100Score}]\">TOP 100</button>\n        <button @click=\"showUserHistory\"\n                :class=\"['score-board-btn', {'selected': !showTop100Score}]\">MY HISTORY\n        </button>\n      </div>\n      <div class=\"score-board-list\">\n        <template  v-if=\"!loading\">\n          <div v-if=\"scoreBoardToShow.length\" class=\"score-board-header\">\n            <p class=\"header-item item1\">nickname</p>\n            <p class=\"header-item item2\">score</p>\n            <p class=\"header-item item3\">date</p>\n          </div>\n          <div v-for=\"item in scoreBoardToShow\" :key=\"item.time\" class=\"score-board-item\">\n            <p class=\"nickname item1\">{{ item.nickname }}: </p>\n            <p class=\"score item2\">{{ item.score }}</p>\n            <p class=\"time item3\">{{ new Date(item.time).format(\"yyyy-MM-dd hh:mm:ss\") }}</p>\n          </div>\n        </template>\n        <div v-else class=\"loading-view\">\n          Loading...\n        </div>\n        <button v-if=\"!scoreBoardToShow.length && !loading\" @click=\"hide\" class=\"loading-view\">\n          Nothing yet, click to make a history!\n        </button>\n      </div>\n    </div>\n    <div class=\"mask\" @click=\"hide\"></div>\n  </div>\n</template>\n\n<script>\nimport './index.scss'\nimport { mapState } from 'vuex'\nimport { TOGGLE_SCORE_BOARD_SHOW } from '../../store/mutationTypes'\n\nconst GET_SCORE_BOARD_TYPES = {\n  TOP100: 0,\n  USER: 1,\n  BOTH: 2,\n}\n\nexport default {\n  name: 'score-board',\n  data () {\n    return {\n      showTop100Score: true,\n      loading: false,\n    }\n  },\n  computed: {\n    ...mapState({\n      top100ScoreBoard: state => state.nebulasData.scoreBoard,\n      userScoreBoard: state => state.nebulasData.userScoreBoard,\n      showScoreBoard: state => state.nebulasData.showScoreBoard,\n    }),\n    scoreBoardToShow () {\n      return (this.showTop100Score ? this.top100ScoreBoard : this.userScoreBoard) || []\n    },\n  },\n  watch: {\n    showScoreBoard (v) {\n      v && this.getScoreBoard(GET_SCORE_BOARD_TYPES.BOTH)\n    },\n  },\n  async mounted () {\n    await this.getScoreBoard()\n  },\n  methods: {\n    hide () {\n      this.$store.commit(TOGGLE_SCORE_BOARD_SHOW, false)\n    },\n    async getScoreBoard (type) {\n      if (this.loading) {\n        return\n      }\n      this.loading = true\n      type !== GET_SCORE_BOARD_TYPES.USER && await this.$store.dispatch('getScoreBoard')\n      type !== GET_SCORE_BOARD_TYPES.TOP100 && await this.$store.dispatch('getUserScoreBoard')\n      this.loading = false\n    },\n    async showTop100 () {\n      this.showTop100Score = true\n      await this.getScoreBoard(GET_SCORE_BOARD_TYPES.TOP100)\n    },\n    async showUserHistory () {\n      this.showTop100Score = false\n      await this.getScoreBoard(GET_SCORE_BOARD_TYPES.USER)\n    },\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ScoreBoard/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showScoreBoard),expression:\"showScoreBoard\"}],staticClass:\"score-board-view\"},[_c('div',{staticClass:\"score-board-main\"},[_c('div',{staticClass:\"score-board-title\"},[_c('button',{class:['score-board-btn', {'selected': _vm.showTop100Score}],on:{\"click\":_vm.showTop100}},[_vm._v(\"TOP 100\")]),_vm._v(\" \"),_c('button',{class:['score-board-btn', {'selected': !_vm.showTop100Score}],on:{\"click\":_vm.showUserHistory}},[_vm._v(\"MY HISTORY\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"score-board-list\"},[(!_vm.loading)?[(_vm.scoreBoardToShow.length)?_c('div',{staticClass:\"score-board-header\"},[_c('p',{staticClass:\"header-item item1\"},[_vm._v(\"nickname\")]),_vm._v(\" \"),_c('p',{staticClass:\"header-item item2\"},[_vm._v(\"score\")]),_vm._v(\" \"),_c('p',{staticClass:\"header-item item3\"},[_vm._v(\"date\")])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.scoreBoardToShow),function(item){return _c('div',{key:item.time,staticClass:\"score-board-item\"},[_c('p',{staticClass:\"nickname item1\"},[_vm._v(_vm._s(item.nickname)+\": \")]),_vm._v(\" \"),_c('p',{staticClass:\"score item2\"},[_vm._v(_vm._s(item.score))]),_vm._v(\" \"),_c('p',{staticClass:\"time item3\"},[_vm._v(_vm._s(new Date(item.time).format(\"yyyy-MM-dd hh:mm:ss\")))])])})]:_c('div',{staticClass:\"loading-view\"},[_vm._v(\"\\n        Loading...\\n      \")]),_vm._v(\" \"),(!_vm.scoreBoardToShow.length && !_vm.loading)?_c('button',{staticClass:\"loading-view\",on:{\"click\":_vm.hide}},[_vm._v(\"\\n        Nothing yet, click to make a history!\\n      \")]):_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"mask\",on:{\"click\":_vm.hide}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-415e831e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ScoreBoard/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-415e831e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ScoreBoard/index.vue\n// module id = null\n// module chunks = ","/**\n* Created by dujianhao on 2018/5/24.\n*/\n\n<template>\n  <div class=\"nebulas-game-over-modal\">\n    <div class=\"main\">\n      <p class=\"title\">Game Over!</p>\n      <p class=\"score-text\">Your Score: {{ score }}</p>\n      <div class=\"content\">\n        <div class=\"input-area\">\n          <input v-model=\"nickname\" placeholder=\"Please input your nickname!\" class=\"text-input\"/>\n        </div>\n        <button @click=\"saveScore\" :class=\"['save-btn', { 'disabled-btn': saving }]\">{{ btnText }}</button>\n        <p @click=\"getScoreBoard\" class=\"score-board-link\">Show Score Board</p>\n      </div>\n    </div>\n    <div class=\"mask\" @click=\"hide\"></div>\n  </div>\n</template>\n\n<script>\nimport './index.scss'\nimport { mapState } from 'vuex'\nimport { HIDE_GAME_OVER_MODAL, TOGGLE_SCORE_BOARD_SHOW } from '../../store/mutationTypes'\n\nexport default {\n  name: 'nebulas-modal',\n  data () {\n    return {\n      nickname: '',\n      saving: false,\n      saved: false,\n    }\n  },\n  computed: {\n    ...mapState({\n      score: state => state.gameStatus.score,\n    }),\n    btnText () {\n      if (this.saved) {\n        return 'Saved!'\n      }\n      return this.saving ? 'Saving...' : 'Save to Nebulas Forever!'\n    },\n  },\n  methods: {\n    reset () {\n      this.saving = false\n      this.saved = false\n    },\n    hide () {\n      this.$store.commit(HIDE_GAME_OVER_MODAL)\n      this.reset()\n    },\n    async saveScore () {\n      if (this.saving || this.saved) {\n        return\n      }\n      this.saving = true\n      const nickname = this.nickname || 'anonymous'\n      const score = this.score + ''\n      await this.$store.dispatch('saveScore', [nickname, score])\n      this.saving = false\n      this.saved = true\n    },\n    getScoreBoard () {\n      this.hide()\n      this.$store.commit(TOGGLE_SCORE_BOARD_SHOW, true)\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/GameOverModal/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nebulas-game-over-modal\"},[_c('div',{staticClass:\"main\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"Game Over!\")]),_vm._v(\" \"),_c('p',{staticClass:\"score-text\"},[_vm._v(\"Your Score: \"+_vm._s(_vm.score))]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"input-area\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nickname),expression:\"nickname\"}],staticClass:\"text-input\",attrs:{\"placeholder\":\"Please input your nickname!\"},domProps:{\"value\":(_vm.nickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nickname=$event.target.value}}})]),_vm._v(\" \"),_c('button',{class:['save-btn', { 'disabled-btn': _vm.saving }],on:{\"click\":_vm.saveScore}},[_vm._v(_vm._s(_vm.btnText))]),_vm._v(\" \"),_c('p',{staticClass:\"score-board-link\",on:{\"click\":_vm.getScoreBoard}},[_vm._v(\"Show Score Board\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"mask\",on:{\"click\":_vm.hide}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42e07961\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GameOverModal/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42e07961\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GameOverModal/index.vue\n// module id = null\n// module chunks = ","/**\n* Created by dujianhao on 2018/5/25.\n*/\n<template>\n    <span :class=\"wrapClasses\" @click=\"toggle\" @keydown.space=\"toggle\">\n        <input type=\"hidden\" :value=\"currentValue\">\n    </span>\n</template>\n<script>\nimport './index.scss'\n\nexport default {\n  name: 'switch-input',\n  props: {\n    value: {\n      type: [String, Number, Boolean],\n      default: false\n    },\n  },\n  data () {\n    return {\n      currentValue: this.value\n    }\n  },\n  computed: {\n    wrapClasses () {\n      return ['switch-input', this.currentValue ? 'switch-input-checked' : 'switch-input-unchecked']\n    },\n  },\n  methods: {\n    toggle () {\n      const checked = !this.currentValue\n      this.currentValue = checked\n      this.$emit('input', checked)\n      this.$emit('on-change', checked)\n    }\n  },\n  watch: {\n    value (val) {\n      this.currentValue = !!val\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SwitchInput/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{class:_vm.wrapClasses,on:{\"click\":_vm.toggle,\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"space\",32,$event.key,\" \")){ return null; }return _vm.toggle($event)}}},[_c('input',{attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.currentValue}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f012fea2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SwitchInput/index.vue\n// module id = null\n// module chunks = ","/*** Created by dujianhao on 2018/4/13.*/\n\n<template>\n  <div class=\"default-view\">\n    <div class=\"default-view-header\">\n      <p>Nebulas Snake</p>\n      <div class=\"difficulty-select-area\">\n        <p @click=\"setDifficulty(DIFFICULTY.NORMAL)\"\n           :class=\"['difficulty-btn', 'normal', {'unselected': DIFFICULTY.NORMAL !== difficulty}]\">Normal</p>\n        <p @click=\"setDifficulty(DIFFICULTY.MIDDLE)\"\n           :class=\"['difficulty-btn', 'middle', {'unselected': DIFFICULTY.MIDDLE !== difficulty}]\">Middle</p>\n        <p @click=\"setDifficulty(DIFFICULTY.HARD)\"\n           :class=\"['difficulty-btn', 'hard', {'unselected': DIFFICULTY.HARD !== difficulty}]\">Hard</p>\n      </div>\n      <div class=\"toggle-wall\">Wall: <switch-input v-model=\"wall\" class=\"switch-input\"/></div>\n      <p>Score: {{ score }}</p>\n    </div>\n    <div class=\"default-view-main\">\n      <main-canvas v-if=\"extensionInstalled\" ref=\"mainCanvas\"/>\n      <div v-else class=\"extension-install-area\">\n        <h3 class=\"extension-hint\">Please install the\n          <a target=\"_blank\" href=\"https://github.com/ChengOrangeJu/WebExtensionWallet\">WebExtensionWallet</a> before play!</h3>\n      </div>\n    </div>\n    <score-board v-if=\"extensionInstalled\"/>\n    <game-over v-if=\"extensionInstalled && gameOver\"/>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { DIFFICULTY } from '../enums'\nimport { CHANGE_DIFFICULTY, UPDATE_EXTENSION_STATUS, TOGGLE_WALL } from '../store/mutationTypes'\nimport './index.scss'\nimport MainCanvas from '../components/MainCanvas'\nimport ScoreBoard from '../components/ScoreBoard'\nimport GameOver from '../components/GameOverModal'\nimport SwitchInput from '../components/SwitchInput'\n\nexport default {\n  name: 'nebulas-snake',\n  components: { MainCanvas, ScoreBoard, GameOver, SwitchInput },\n  data () {\n    return {\n      DIFFICULTY,\n    }\n  },\n  computed: {\n    ...mapState({\n      score: state => state.gameStatus.score,\n      difficulty: state => state.gameStatus.difficulty,\n      extensionInstalled: state => state.nebulasData.extensionInstalled,\n      gameOver: state => state.gameStatus.gameOver,\n    }),\n    wall: {\n      get () {\n        return this.$store.state.gameStatus.wall\n      },\n      set () {\n        this.$store.commit(TOGGLE_WALL)\n      }\n    }\n  },\n  beforeMount () {\n    this.checkIfExtensionInstalled()\n  },\n  mounted () {\n    this.extensionInstalled && this.getUserInfo()\n  },\n  methods: {\n    checkIfExtensionInstalled () {\n      if (!window.webExtensionWallet) { // extension uninstalled\n        this.$store.commit(UPDATE_EXTENSION_STATUS, false)\n      } else {\n        this.$store.commit(UPDATE_EXTENSION_STATUS, true)\n      }\n    },\n    setDifficulty (difficulty) {\n      this.$store.commit(CHANGE_DIFFICULTY, difficulty)\n      // this.$refs.mainCanvas.init()\n    },\n    getUserInfo () {\n      this.$store.dispatch('getUserInfo')\n    },\n  },\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f012fea2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SwitchInput/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"default-view\"},[_c('div',{staticClass:\"default-view-header\"},[_c('p',[_vm._v(\"Nebulas Snake\")]),_vm._v(\" \"),_c('div',{staticClass:\"difficulty-select-area\"},[_c('p',{class:['difficulty-btn', 'normal', {'unselected': _vm.DIFFICULTY.NORMAL !== _vm.difficulty}],on:{\"click\":function($event){_vm.setDifficulty(_vm.DIFFICULTY.NORMAL)}}},[_vm._v(\"Normal\")]),_vm._v(\" \"),_c('p',{class:['difficulty-btn', 'middle', {'unselected': _vm.DIFFICULTY.MIDDLE !== _vm.difficulty}],on:{\"click\":function($event){_vm.setDifficulty(_vm.DIFFICULTY.MIDDLE)}}},[_vm._v(\"Middle\")]),_vm._v(\" \"),_c('p',{class:['difficulty-btn', 'hard', {'unselected': _vm.DIFFICULTY.HARD !== _vm.difficulty}],on:{\"click\":function($event){_vm.setDifficulty(_vm.DIFFICULTY.HARD)}}},[_vm._v(\"Hard\")])]),_vm._v(\" \"),_c('div',{staticClass:\"toggle-wall\"},[_vm._v(\"Wall: \"),_c('switch-input',{staticClass:\"switch-input\",model:{value:(_vm.wall),callback:function ($$v) {_vm.wall=$$v},expression:\"wall\"}})],1),_vm._v(\" \"),_c('p',[_vm._v(\"Score: \"+_vm._s(_vm.score))])]),_vm._v(\" \"),_c('div',{staticClass:\"default-view-main\"},[(_vm.extensionInstalled)?_c('main-canvas',{ref:\"mainCanvas\"}):_c('div',{staticClass:\"extension-install-area\"},[_c('h3',{staticClass:\"extension-hint\"},[_vm._v(\"Please install the\\n        \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/ChengOrangeJu/WebExtensionWallet\"}},[_vm._v(\"WebExtensionWallet\")]),_vm._v(\" before play!\")])])],1),_vm._v(\" \"),(_vm.extensionInstalled)?_c('score-board'):_vm._e(),_vm._v(\" \"),(_vm.extensionInstalled && _vm.gameOver)?_c('game-over'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2db6f73e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2db6f73e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index.vue\n// module id = null\n// module chunks = ","/**\n * The file enables `@/store/index.js` to import all vuex modules\n * in a one-shot manner. There should not be any reason to edit this file.\n */\n\nconst files = require.context('.', false, /\\.js$/)\nconst modules = {}\n\nfiles.keys().forEach(key => {\n  if (key === './index.js') return\n  modules[key.replace(/(\\.\\/|\\.js)/g, '')] = files(key).default\n})\n\nexport default modules\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/index.js","/**\n * Created by dujianhao on 2018/5/23.\n */\n// gameStatus\nexport const START = 'START'\nexport const STOP = 'STOP'\nexport const CHANGE_DIFFICULTY = 'CHANGE_DIFFICULTY'\nexport const ADD_SCORE = 'ADD_SCORE'\nexport const TOGGLE_START = 'TOGGLE_START'\nexport const RESTART_GAME = 'RESTART_GAME'\nexport const PAUSE = 'PAUSE'\nexport const RESUME = 'RESUME'\nexport const RESET = 'RESET'\nexport const HIDE_GAME_OVER_MODAL = 'HIDE_GAME_OVER_MODAL'\n\n// nebulasData\nexport const PAY_SUCCESS = 'PAY_SUCCESS'\nexport const UPDATE_SCORE_BOARD = 'UPDATE_SCORE_BOARD'\nexport const UPDATE_USER_SCORE_BOARD = 'UPDATE_USER_SCORE_BOARD'\nexport const UPDATE_EXTENSION_STATUS = 'UPDATE_EXTENSION_STATUS'\nexport const TOGGLE_SCORE_BOARD_SHOW = 'TOGGLE_SCORE_BOARD_SHOW'\nexport const SET_USER_ACCOUNT = 'SET_USER_ACCOUNT'\nexport const TOGGLE_WALL = 'TOGGLE_WALL'\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutationTypes.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ec2e8fc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ec2e8fc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport './style/index.scss'\n\nexport default {\n  name: 'app'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'default',\n      component: require('../pages/index.vue').default\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport modules from './modules'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules,\n  strict: process.env.NODE_ENV !== 'production'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","/* eslint-disable no-extend-native */\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport axios from 'axios'\n\nimport App from './App'\nimport router from './router'\nimport store from './store'\n\nVue.http = Vue.prototype.$http = axios\nVue.config.productionTip = false\n\nDate.prototype.format = function (format) {\n  let args = {\n    'M+': this.getMonth() + 1,\n    'd+': this.getDate(),\n    'h+': this.getHours(),\n    'm+': this.getMinutes(),\n    's+': this.getSeconds(),\n    'q+': Math.floor((this.getMonth() + 3) / 3), // quarter\n    'S': this.getMilliseconds()\n  }\n  if (/(y+)/.test(format)) {\n    format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length))\n  }\n  for (let i in args) {\n    let n = args[i]\n    if (new RegExp('(' + i + ')').test(format)) {\n      format = format.replace(RegExp.$1, RegExp.$1.length === 1 ? n : ('00' + n).substr(('' + n).length))\n    }\n  }\n  return format\n}\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import { ADD_SCORE, CHANGE_DIFFICULTY, RESTART_GAME, START, STOP, TOGGLE_START, PAUSE, RESUME, RESET, HIDE_GAME_OVER_MODAL, TOGGLE_WALL } from '../mutationTypes'\nimport { DIFFICULTY } from '../../enums'\nconst state = {\n  wall: true,\n  started: false,\n  paused: false,\n  gameOver: false,\n  score: 0,\n  difficulty: DIFFICULTY.NORMAL,\n}\n\nconst mutations = {\n  [ADD_SCORE] (state) {\n    state.score++\n  },\n  [CHANGE_DIFFICULTY] (state, difficulty) {\n    state.difficulty = difficulty\n  },\n  [HIDE_GAME_OVER_MODAL] (state) {\n    state.gameOver = false\n  },\n  [STOP] (state) {\n    state.started = false\n    state.paused = false\n    state.gameOver = true\n  },\n  [PAUSE] (state) {\n    state.paused = true\n  },\n  [RESUME] (state) {\n    state.paused = false\n  },\n  [TOGGLE_START] (state) {\n    state.started = !state.started\n    state.paused = false\n  },\n  [RESTART_GAME] (state) {\n    state.started = true\n    state.paused = false\n    state.score = 0\n  },\n  [RESET] (state) {\n    state.started = false\n    state.paused = false\n    state.score = 0\n  },\n  [START] (state) {\n    state.started = true\n    state.paused = false\n    state.gameOver = false\n  },\n  [TOGGLE_WALL] (state) {\n    state.wall = !state.wall\n  },\n}\n\nconst actions = {\n  // someAsyncTask ({ commit }) {\n  // do something async\n  // commit('INCREMENT_MAIN_COUNTER')\n  // }\n}\n\nexport default {\n  state,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/gameStatus.js","/**\n * Created by dujianhao on 2018/5/24.\n */\nimport NebPay from 'nebpay'\n\nconst callbackUrl = NebPay.config.testnetUrl\nconst nebPay = new NebPay()\nconst dappAddress = 'n1tfKeNFjJMWTzHW78UugpURCDzrTyPUPwZ'\nconst myAccount = 'n1FQy3GYN6EbF5ajqScUjLH6zXBN5HW2Nx4'\n\n/**\n * 如果只查询类的请求 就不需要去支付 直接使用 nebPay 的 simulateCall 即可\n * 如果不是查询类的 需要调用支付接口 使用 nebPay 的 call 调用\n */\n\n/**\n * @param payId\n * @returns {*}\n */\nfunction queryPayInfo (payId) {\n  return nebPay.queryPayInfo(payId, { callback: callbackUrl }) // search transaction result from server (result upload to server by app)\n}\n\n/**\n * nebulas contract call (pay required)\n * @param {String} callFunction contract function to call\n * @param {Array} params params to send\n */\nfunction payCall (callFunction, params = []) {\n  return new Promise((resolve, reject) => {\n    const to = dappAddress\n    const value = '0'\n    const callArgs = JSON.stringify(params)\n    nebPay.call(to, value, callFunction, callArgs, {\n      listener: res => {\n        resolve(res)\n        // setInterval(() => {\n        //   queryPayInfo(payId)\n        //     .then(resp => {\n        //       console.log(resp)\n        //     })\n        //     .catch(err => {\n        //       console.log(err)\n        //     })\n        // }, 11000)\n      }\n    })\n  })\n}\n\n/**\n * nebulas contract call\n * @param {String} callFunction contract function to call\n * @param {Array} params params to send\n */\nfunction freeCall (callFunction, params = []) {\n  return new Promise((resolve, reject) => {\n    const to = dappAddress\n    const value = '0'\n    const callArgs = JSON.stringify(params)\n    nebPay.simulateCall(to, value, callFunction, callArgs, {\n      listener: res => {\n        // console.log(res)\n        resolve(res.result)\n      }\n    })\n  })\n}\n\nfunction nebulasPay (value = 0, options = {}) {\n  return new Promise((resolve, reject) => {\n    const payId = nebPay.pay(myAccount, value, {\n      qrcode: {\n        showQRCode: false\n      },\n      goods: {\n        name: options.name || 'Nebulas Snake',\n        desc: options.desc || 'NAS for start game'\n      },\n      callback: callbackUrl,\n      listener: res => {\n        try {\n          resolve(JSON.parse(res.result), payId)\n        } catch (e) {\n          reject(res.result)\n        }\n      } // set listener for extension transaction result\n    })\n  })\n}\n\nfunction getUserAddress () {\n  return new Promise((resolve, reject) => {\n    function getAddress (e) {\n      try {\n        const account = e.data.data.account\n        if (account) {\n          window.removeEventListener('message', getAddress)\n          resolve(account)\n        }\n      } catch (e) {}\n    }\n\n    window.addEventListener('message', getAddress)\n    window.postMessage({\n      target: 'contentscript',\n      method: 'getAccount'\n    }, '*')\n  })\n}\n\nexport default {\n  nebulasPay,\n  freeCall,\n  payCall,\n  queryPayInfo,\n  getUserAddress,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/nebulasUtils.js","import { PAY_SUCCESS, UPDATE_SCORE_BOARD, UPDATE_USER_SCORE_BOARD, UPDATE_EXTENSION_STATUS, TOGGLE_SCORE_BOARD_SHOW, SET_USER_ACCOUNT } from '../mutationTypes'\nimport nebulasUtils from '../../utils/nebulasUtils'\nimport { cloneDeep } from 'lodash'\n\nconst state = {\n  payed: false,\n  scoreBoard: [],\n  userScoreBoard: [],\n  playerAccount: '',\n  showScoreBoard: true,\n  extensionInstalled: false\n}\n\nconst mutations = {\n  [PAY_SUCCESS] (state) {\n    state.payed = true\n  },\n  [UPDATE_SCORE_BOARD] (state, scoreBoard) {\n    state.scoreBoard = cloneDeep(scoreBoard)\n  },\n  [UPDATE_USER_SCORE_BOARD] (state, userScoreBoard) {\n    state.userScoreBoard = cloneDeep(userScoreBoard)\n  },\n  [UPDATE_EXTENSION_STATUS] (state, flag) {\n    state.extensionInstalled = flag\n  },\n  [TOGGLE_SCORE_BOARD_SHOW] (state, flag) {\n    state.showScoreBoard = flag !== undefined ? flag : !state.showScoreBoard\n  },\n  [SET_USER_ACCOUNT] (state, account) {\n    state.playerAccount = account\n  },\n}\n\nconst actions = {\n  async saveScore ({ commit, dispatch }, params) {\n    const res = await nebulasUtils.payCall('saveScore', params)\n    console.log(res)\n    // commit(PAY_SUCCESS)\n    dispatch('getUserInfo')\n  },\n  async getScoreBoard ({ commit }) {\n    const res = await nebulasUtils.freeCall('getScoreBoard')\n    commit(UPDATE_SCORE_BOARD, JSON.parse(res || '[]'))\n    return res\n  },\n  async getUserScoreBoard ({ commit, state }) {\n    if (!state.playerAccount) {\n      commit(UPDATE_USER_SCORE_BOARD, [])\n    }\n    const res = await nebulasUtils.freeCall('getUserScoreBoard', [state.playerAccount])\n    commit(UPDATE_USER_SCORE_BOARD, JSON.parse(res || '[]'))\n  },\n  async getUserInfo ({ commit }) {\n    const account = await nebulasUtils.getUserAddress()\n    commit(SET_USER_ACCOUNT, account)\n  },\n}\n\nexport default {\n  state,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/nebulasData.js","/**\n * Created by dujianhao on 2018/4/13.\n */\nconst LEFT = 37\nconst UP = 38\nconst RIGHT = 39\nconst DOWN = 40\nconst SPACE = 31\nconst ENTER = 13\n\nexport default {\n  LEFT,\n  UP,\n  RIGHT,\n  DOWN,\n  SPACE,\n  ENTER,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/keyCodes.js","/**\n * Created by dujianhao on 2018/4/13.\n */\nconst NORMAL = 500 // value used as interval time\nconst MIDDLE = 300\nconst HARD = 100\n\nexport default {\n  NORMAL,\n  MIDDLE,\n  HARD,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/difficulty.js","/**\n * Created by dujianhao on 2018/4/13.\n */\nimport KEY_CODES from './keyCodes'\nimport DIFFICULTY from './difficulty'\n\nexport {\n  KEY_CODES,\n  DIFFICULTY,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/enums/index.js","var map = {\n\t\"./gameStatus.js\": \"O9x0\",\n\t\"./index.js\": \"2mV7\",\n\t\"./nebulasData.js\": \"Qe7L\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"gNcp\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store/modules nonrecursive \\.js$\n// module id = gNcp\n// module chunks = 1"],"sourceRoot":""}